--- a/net/minecraft/network/protocol/login/custom/DiscardedQueryPayload.java
+++ b/net/minecraft/network/protocol/login/custom/DiscardedQueryPayload.java
@@ -3,12 +_,18 @@
 import net.minecraft.network.FriendlyByteBuf;
 import net.minecraft.resources.ResourceLocation;
 
-public record DiscardedQueryPayload(ResourceLocation id) implements CustomQueryPayload {
+public record DiscardedQueryPayload(ResourceLocation id, @org.jetbrains.annotations.Nullable FriendlyByteBuf data) implements CustomQueryPayload {
+    public DiscardedQueryPayload(ResourceLocation id) {
+        this(id, null);
+    }
+
     @Override
     public void write(FriendlyByteBuf p_299949_) {
+        if (this.data != null) {
+            p_299949_.writeBytes(this.data.slice());
+        }
     }
 
-    @Override
     public ResourceLocation id() {
         return this.id;
     }
